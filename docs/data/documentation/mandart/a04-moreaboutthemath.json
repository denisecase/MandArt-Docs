{"kind":"article","hierarchy":{"paths":[["doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt"]]},"schemaVersion":{"minor":3,"patch":0,"major":0},"identifier":{"url":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A04-MoreAboutTheMath","interfaceLanguage":"swift"},"sections":[],"metadata":{"title":"More About The Math","modules":[{"name":"MandArt"}],"role":"article","roleHeading":"Article"},"variants":[{"paths":["\/documentation\/mandart\/a04-moreaboutthemath"],"traits":[{"interfaceLanguage":"swift"}]}],"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"Overview","level":2},{"inlineContent":[{"text":"This article covers the ideas and math behind MandArt and the Mandlebrot set.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"identifier":"mandart_a04.png","type":"image"}]},{"level":2,"anchor":"Discussion","text":"Discussion","type":"heading"},{"level":3,"anchor":"The-Mandelbrot-Set","text":"The Mandelbrot Set","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Now for a little math to help explain what’s going on.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"How are these pictures generated?","type":"text"}]},{"inlineContent":[{"type":"text","text":"We start with an iterative formula:"}],"type":"paragraph"},{"type":"codeListing","code":["z n+1 = zn^2 + c"],"syntax":"math"},{"type":"paragraph","inlineContent":[{"text":"where z and c are complex numbers.","type":"text"}]},{"syntax":"math","type":"codeListing","code":["z = x + iy"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"and"}]},{"code":["c = x0 + iy0"],"type":"codeListing","syntax":"math"},{"inlineContent":[{"type":"text","text":"Since our computers don’t work with complex numbers, and they seem a little scary,"},{"text":" ","type":"text"},{"type":"text","text":"we use a little math to get to real numbers. Then we can use the real x and y values of geometry."},{"type":"text","text":" "},{"type":"text","text":"For each pixel location in the"},{"type":"text","text":" "},{"text":"picture, the program starts with that location and computes a new location. The new location is tested to see if it","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"exceeds some maximum value that we choose. If it does, the program records the number of iterations required to get there. If not, it checks"},{"type":"text","text":" "},{"type":"text","text":"to see if the number of iterations has reached the maximum allowable number of iterations. If it does, it records"},{"text":" ","type":"text"},{"text":"that number and goes on to the next pixel. If not, it computes a new location.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The distance from the origin to a point (x, y) is the square root of (x^2 + y^2). It has been shown that the distance"},{"type":"text","text":" "},{"text":"from the origin must grow to infinity if that distance ever exceeds 2. Since square roots are an unnecessary and","type":"text"},{"type":"text","text":" "},{"type":"text","text":"expensive calculation, we just use the distance squared, so the "},{"inlineContent":[{"text":"distance","type":"text"}],"type":"strong"},{"type":"text","text":" must grow to infinity if the "},{"type":"strong","inlineContent":[{"text":"distance","type":"text"},{"type":"text","text":" "},{"text":"squared","type":"text"}]},{"type":"text","text":" exceeds 4. We call the distance from the origin, r, so we compute r^2 and call it rSq."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"We use the number of iterations to help to define a color for that location.","type":"text"}]},{"inlineContent":[{"text":"What if we iterate many times and r^2 never exceeds the limit of 4? We call that limit rSqLimit. In general, we","type":"text"},{"type":"text","text":" "},{"type":"text","text":"can’t be sure that r^2 will ever exceed 4, so we pick a large number and say that, if we don’t exceed rSqLimit in"},{"type":"text","text":" "},{"text":"that number of iterations, we never will. We generally color that location black.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"We use the variable, iterationsMax, for the maximum number of iterations to try. We start out with"},{"type":"text","text":" "},{"type":"text","text":"iterationsMax = 10,000. Any time you find a black shape that doesn’t look like a Mini-Mand, it means you need"},{"type":"text","text":" "},{"text":"to increase iterationsMax. You define the RGB colors used in the picture and their order. You also define the","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"numbers of blocks of color to be used, nBlocks. We start with six colors and 60 blocks. The colors we used are,"},{"text":" ","type":"text"},{"type":"text","text":"in order: lime, yellow, red, magenta, blue, and cyan.These are six of the eight corners of the RGB color cube. The program finds the minimum number of iterations used"},{"text":" ","type":"text"},{"type":"text","text":"at any location in the picture so that our coloring can start somewhere on the edge of our picture."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Why would we ever choose a value for rSqLimit greater than 4? This has to do with color smoothing. We find"},{"type":"text","text":" "},{"type":"text","text":"the number of iterations required to exceed rSqLimit at each location in our picture. We then assign a color to"},{"text":" ","type":"text"},{"text":"that location based on that number of iterations. However, there will be many locations nearby that have the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"same number of iterations. We would be left with bands of a uniform color, which may not look good."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To get color smoothing, we need another piece of information. What if, instead of picking 4 as the value for"},{"text":" ","type":"text"},{"type":"text","text":"rSqLimit, we picked a much higher value? We could then adjust the number of iterations by a fraction"},{"type":"text","text":" "},{"type":"text","text":"depending on how high r^2 got to in exceeding rSqLimit. We call that value of r^2 , rSqMax. We can calculate just"},{"text":" ","type":"text"},{"type":"text","text":"how large rSqMax could possibly be for a given value of rSqLimit. rSqMax is simply (rSqLimit + 2)^2."}]},{"inlineContent":[{"text":"We want to define a value that acts like a fractional value for the number of iterations required to exceed","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"rSqLimit, so we defined something that acts like a differential iteration as:"}],"type":"paragraph"},{"type":"codeListing","syntax":"math","code":["dIter = (r^2 - rSqLimit)\/(rSqMax - rSqLimit)"]},{"type":"paragraph","inlineContent":[{"text":"and a fractional iteration as:","type":"text"}]},{"syntax":"math","code":["fIter = iter - dIter."],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The program puts each value of fIter into a two-dimensional array of values covering the width and height of"},{"type":"text","text":" "},{"type":"text","text":"the picture."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A plot of fIter against location would show a very non-linear curve. That would not be good for smoothing out"},{"text":" ","type":"text"},{"text":"the colors, so an equation using logarithms of logarithms computes dIter from r^2 , rSqLimit, and, rSqMax.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"This helped to makes dIter much more linear and looks better. Then we just linearly vary the R, G, and B color","type":"text"},{"type":"text","text":" "},{"type":"text","text":"components to get the desired color smoothing."}]},{"text":"The Mandelbrot set","anchor":"The-Mandelbrot-set","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"The Mandelbrot set is a mathematical formula."},{"type":"text","text":" "},{"text":"It is a complex function that generates a set of complex numbers based on the iteration of a simple equation.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The equation is used to generate the points in the complex plane that are part of the Mandelbrot set."},{"type":"text","text":" "},{"text":"The set is named after the French mathematician Benoît B. Mandelbrot, who studied and popularized it in the late 20th century.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"All we really have to know is that i^2 = -1 and that an i in front of a number means it is measured along the y axis of the standard x-y plane."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The initial value of z(n) is 0 + i0. The values of x0 and y0 remain fixed while we iterate."}]},{"type":"paragraph","inlineContent":[{"text":"That’s just part of the definition of the Mandelbrot set.","type":"text"}]},{"text":"Exploration","level":3,"anchor":"Exploration","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For help getting started see "},{"isActive":true,"type":"reference","identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A01-GettingStarted"},{"text":".","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about all the ways to explore custom MandArt at "},{"type":"reference","identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A02-SettingInputs","isActive":true},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"Get help with common challenges at ","type":"text"},{"identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A03-Challenges","isActive":true,"type":"reference"},{"text":".","type":"text"}]}],"kind":"content"}],"abstract":[{"type":"text","text":"MandArt is based on a popular fractal, the Mandlebrot set."}],"references":{"mandart_a04.png":{"alt":"Example","variants":[{"url":"\/images\/mandart_a04.png","traits":["1x","light"]}],"identifier":"mandart_a04.png","type":"image"},"doc://Bruce-Johnson.MandArt/documentation/MandArt/A03-Challenges":{"url":"\/documentation\/mandart\/a03-challenges","abstract":[{"type":"text","text":"Working with colors presents some challenges."}],"identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A03-Challenges","kind":"article","type":"topic","title":"Challenges","role":"article"},"doc://Bruce-Johnson.MandArt/documentation/MandArt/A02-SettingInputs":{"url":"\/documentation\/mandart\/a02-settinginputs","abstract":[{"type":"text","text":"Setting MandArt inputs to generate custom art."}],"kind":"article","identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A02-SettingInputs","type":"topic","title":"Setting Inputs","role":"article"},"doc://Bruce-Johnson.MandArt/documentation/MandArt":{"abstract":[{"type":"text","text":"MandArt is the ultimate app for creating custom art from the Mandelbrot set."}],"kind":"symbol","url":"\/documentation\/mandart","type":"topic","title":"MandArt","role":"collection","identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt"},"doc://Bruce-Johnson.MandArt/documentation/MandArt/A01-GettingStarted":{"identifier":"doc:\/\/Bruce-Johnson.MandArt\/documentation\/MandArt\/A01-GettingStarted","role":"article","type":"topic","url":"\/documentation\/mandart\/a01-gettingstarted","title":"Getting Started","abstract":[{"type":"text","text":"How to get started using MandArt to generate custom art."}],"kind":"article"}}}